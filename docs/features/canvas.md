# Infinite Canvas

Lokus features a powerful infinite canvas system built on TLDraw that provides a spatial workspace for visual note-taking, diagramming, and creative organization. The canvas offers unlimited space for arranging and connecting ideas visually.

## Overview

The Infinite Canvas provides:
- **Unlimited workspace** - Pan and zoom through infinite 2D space
- **TLDraw integration** - Professional drawing and diagramming tools
- **Mixed content** - Combine text, drawings, shapes, and imported notes
- **Real-time collaboration** - Multiple users can work on the same canvas
- **Flexible organization** - Arrange content spatially without constraints
- **Export capabilities** - Save canvas as images or share with others

## Opening Canvas View

### Access Methods
- **Keyboard Shortcut**: `⌘⇧C` (macOS) / `Ctrl+Shift+C` (Windows/Linux)
- **Command Palette**: Search for "Open Canvas" in Command Palette (`⌘K`)
- **Workspace Button**: Click the canvas icon in the toolbar
- **New Canvas**: Create dedicated canvas files through File menu

### Canvas Interface
The canvas opens in a full-screen interface with:
- **Infinite Drawing Area** - Unlimited 2D workspace
- **Tool Palette** - Drawing and shape tools on the left
- **Property Panel** - Styling options on the right
- **Zoom Controls** - Navigation and zoom controls
- **Mini-map** - Overview of canvas content (optional)

## Core Features

### Drawing Tools

#### Basic Drawing
- **Pen Tool** - Freehand drawing with pressure sensitivity
- **Pencil Tool** - Sketch-style drawing with natural texture
- **Marker Tool** - Highlighter-style semi-transparent drawing
- **Eraser Tool** - Remove parts of drawings precisely

#### Shape Tools
- **Rectangle** - Create rectangles and squares
- **Ellipse** - Draw circles and ellipses
- **Triangle** - Various triangle shapes
- **Diamond** - Diamond and rhombus shapes
- **Arrow** - Directional arrows and connectors
- **Line** - Straight lines and polylines

#### Advanced Tools
- **Text Tool** - Add text annotations anywhere on canvas
- **Sticky Notes** - Create note-like text boxes
- **Connectors** - Smart connectors between shapes
- **Frame Tool** - Create organizational frames and boundaries

### Text and Notes

#### Text Features
- **Rich Text** - Bold, italic, underline formatting
- **Font Options** - Multiple font families and sizes
- **Color Styling** - Text color and background options
- **Alignment** - Left, center, right, and justified alignment
- **List Support** - Bullet points and numbered lists

#### Note Integration
- **Import Notes** - Bring existing notes onto the canvas
- **Wiki Link Support** - Create connections between canvas notes
- **Live Updates** - Canvas notes sync with workspace files
- **Note Previews** - Preview full note content in expandable cards

### Organization and Layout

#### Spatial Organization
- **Free Positioning** - Place elements anywhere in 2D space
- **Grouping** - Group related elements together
- **Layering** - Control element order and overlap
- **Alignment Guides** - Snap to alignment guides for precise positioning

#### Frames and Sections
- **Organizational Frames** - Create sections and categories
- **Color Coding** - Use colors to organize different topics
- **Size Scaling** - Elements can be resized individually
- **Rotation** - Rotate text, shapes, and groups freely

## Navigation and Interaction

### Canvas Navigation
- **Pan** - Click and drag to move around the canvas
- **Zoom** - Mouse wheel or pinch gestures to zoom in/out
- **Fit to Screen** - Automatically fit all content in view
- **Go to Selection** - Jump to selected elements

#### Keyboard Navigation
- **Arrow Keys** - Fine movement of selected elements
- **Space + Drag** - Pan the canvas
- **Ctrl/Cmd + Wheel** - Zoom in/out
- **Ctrl/Cmd + 0** - Reset zoom to 100%

### Selection and Manipulation
- **Single Selection** - Click to select individual elements
- **Multi-Selection** - Drag to select multiple elements
- **Group Selection** - Select entire groups at once
- **Transform Handles** - Resize, rotate, and transform selections

#### Editing Modes
- **Edit Mode** - Modify text and shape properties
- **Draw Mode** - Active drawing with selected tool
- **Select Mode** - Navigate and select elements
- **Hand Mode** - Pan-only navigation mode

## Collaboration Features

### Real-time Collaboration
- **Live Cursors** - See other users' cursors in real-time
- **Collaborative Drawing** - Multiple users can draw simultaneously
- **Change Synchronization** - All changes sync instantly
- **User Awareness** - See who's currently working on the canvas

#### Collaboration Tools
- **Comments** - Add comments to specific canvas areas
- **Presence Indicators** - Show active collaborators
- **Version History** - Track changes over time
- **Conflict Resolution** - Automatic resolution of simultaneous edits

### Sharing Options
- **Share Link** - Generate shareable links to canvas
- **Permission Control** - Set view-only or edit permissions
- **Public Sharing** - Make canvas publicly accessible
- **Team Workspaces** - Shared canvas spaces for teams

## Advanced Canvas Features

### Smart Connectors
Intelligent connection system between elements:
- **Auto-routing** - Connectors automatically route around obstacles
- **Snap Points** - Connectors snap to logical connection points
- **Dynamic Updates** - Connections update when elements move
- **Connection Types** - Straight, curved, and right-angle connectors

#### Connection Styles
- **Arrow Types** - Various arrowhead styles and sizes
- **Line Styles** - Solid, dashed, dotted lines
- **Color Coding** - Different colors for different relationship types
- **Thickness Options** - Adjustable line thickness

### Templates and Stencils
Pre-built templates for common use cases:

#### Diagram Templates
- **Flowcharts** - Process and decision flow diagrams
- **Mind Maps** - Hierarchical idea organization
- **Organization Charts** - Team and company structure
- **Network Diagrams** - System and network layouts

#### Note Templates
- **Meeting Notes** - Structured meeting note layouts
- **Project Planning** - Project timeline and task layouts
- **Brainstorming** - Creative idea generation layouts
- **Research Notes** - Academic and research organization

### Import and Export

#### Import Options
- **Images** - Drag and drop images onto canvas
- **Notes** - Import existing workspace notes
- **PDF Pages** - Import PDF pages as background images
- **SVG Files** - Import vector graphics

#### Export Formats
- **PNG** - High-resolution raster images
- **SVG** - Scalable vector graphics
- **PDF** - Multi-page PDF documents
- **JSON** - Raw canvas data for backup/migration

## Integration with Lokus Features

### Note System Integration
- **Bidirectional Links** - Canvas elements can link to workspace notes
- **Live Note Preview** - Preview note content without leaving canvas
- **Note Search** - Search workspace notes from within canvas
- **Auto-sync** - Changes to notes reflect on canvas automatically

### Command Palette Integration
- **Canvas Commands** - All canvas tools accessible via Command Palette
- **Quick Navigation** - Jump to specific canvas areas or elements
- **Tool Switching** - Switch between tools using Command Palette
- **Action History** - Access recent canvas actions

### Template System Integration
- **Canvas Templates** - Create reusable canvas layouts
- **Element Templates** - Save commonly used shape combinations
- **Note Templates** - Canvas-specific note templates
- **Quick Insert** - Insert templates via Command Palette

## Performance and Optimization

### Rendering Performance
- **Hardware Acceleration** - GPU-accelerated rendering for smooth performance
- **Viewport Culling** - Only render visible elements
- **Level of Detail** - Reduce detail when zoomed out
- **Memory Management** - Efficient memory usage for large canvases

### Large Canvas Handling
- **Infinite Scrolling** - Seamless navigation through large spaces
- **Background Loading** - Load canvas sections on demand
- **Compression** - Efficient storage of canvas data
- **Caching** - Cache rendered elements for faster display

## Customization and Settings

### Canvas Preferences
Access canvas settings through application preferences:

#### Appearance
- **Grid Settings** - Show/hide grid, adjust grid size and style
- **Background Color** - Customize canvas background
- **Theme Integration** - Canvas follows application theme
- **Zoom Limits** - Set minimum and maximum zoom levels

#### Behavior
- **Snap Settings** - Configure snap-to-grid and snap-to-objects
- **Tool Defaults** - Set default properties for drawing tools
- **Gesture Settings** - Configure touch and trackpad gestures
- **Auto-save** - Automatic saving of canvas changes

#### Performance
- **Rendering Quality** - Balance between quality and performance
- **Animation Settings** - Enable/disable smooth animations
- **Memory Limits** - Set limits for large canvas operations
- **Background Sync** - Configure collaboration sync frequency

## Use Cases and Examples

### Educational Applications
- **Concept Mapping** - Visual representation of learning concepts
- **Lecture Notes** - Combine text, diagrams, and annotations
- **Study Guides** - Create visual study materials
- **Project Presentations** - Design presentation layouts

### Business Applications
- **Process Mapping** - Document business processes visually
- **Brainstorming Sessions** - Collaborative idea generation
- **Project Planning** - Visual project timelines and dependencies
- **System Architecture** - Design and document system layouts

### Creative Applications
- **Storyboarding** - Plan visual narratives and stories
- **Mood Boards** - Collect and organize visual inspiration
- **Design Sketches** - Early concept development and iteration
- **Art Projects** - Digital drawing and illustration

### Research Applications
- **Literature Maps** - Visualize research paper relationships
- **Data Visualization** - Create custom charts and graphs
- **Timeline Creation** - Historical and project timelines
- **Methodology Diagrams** - Research process visualization

## Accessibility

### Keyboard Accessibility
- **Full Keyboard Support** - All features accessible via keyboard
- **Focus Indicators** - Clear visual focus indicators
- **Tab Navigation** - Logical tab order through interface elements
- **Keyboard Shortcuts** - Comprehensive keyboard shortcut support

### Screen Reader Support
- **Element Descriptions** - Screen reader descriptions for all elements
- **Structure Navigation** - Navigate canvas structure logically
- **Content Summary** - High-level canvas content summaries
- **Action Announcements** - Spoken feedback for user actions

### Visual Accessibility
- **High Contrast** - Support for high contrast display modes
- **Zoom Support** - Works with system zoom and magnification
- **Color Alternatives** - Information not dependent on color alone
- **Font Scaling** - Respects system font size preferences

## Troubleshooting

### Common Issues

**Canvas not loading:**
- Check browser compatibility (requires modern browser with WebGL)
- Verify sufficient system memory
- Clear browser cache and reload
- Check for JavaScript errors in console

**Performance issues:**
- Reduce canvas complexity by grouping or removing elements
- Lower rendering quality in settings
- Close other memory-intensive applications
- Check available system resources

**Collaboration problems:**
- Verify internet connection stability
- Check if all users have proper permissions
- Try refreshing the canvas view
- Ensure all users are on the same canvas version

**Export failures:**
- Check available disk space
- Try exporting smaller sections of the canvas
- Verify browser download permissions
- Use alternative export formats

### Performance Tips
1. **Organize with groups** - Group related elements to improve performance
2. **Use frames** - Organize large canvases with frames and sections
3. **Regular cleanup** - Remove unused elements and outdated content
4. **Optimize images** - Compress images before importing
5. **Limit detail** - Use appropriate level of detail for the canvas purpose

## Related Features

- **[Template System](./template-system.md)** - Canvas templates and layouts
- **[File Management](./file-management.md)** - Canvas file organization
- **[Collaboration](./collaboration.md)** - Real-time collaborative features
- **[Export System](./export.md)** - Canvas export and sharing options

---

*For technical implementation details, see the [Canvas API Documentation](../api/canvas.md).*